{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kirat\\\\Downloads\\\\hw3_sample_solution1\\\\src\\\\components\\\\item_screen\\\\ItemScreen.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { getFirestore } from 'redux-firestore';\nimport { DatePicker } from 'react-materialize';\n\nclass ItemScreen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.itemData = {\n      assigned_to: \"Unknown\",\n      completed: false,\n      description: \"Do Something\",\n      due_date: \"2019-12-25\",\n      key: parseInt(this.props.itemid)\n    };\n\n    this.setItemData = data => {\n      this.itemData = data;\n      console.log(\"ItemData is: \", this.itemData);\n    };\n\n    this.dateChange = date => {\n      let time = date.target.value;\n      let newTime = new Date(time.getTime() - time.getTimezoneOffset() * 60000).toISOString().split(\"T\")[0].toString();\n      console.log(\"Changing date to: \", newTime);\n      this.itemData.due_date = newTime;\n    };\n\n    this.descriptionChange = e => {\n      this.itemData.description = e.target.value;\n      console.log(this.itemData.description);\n    };\n\n    this.assignedToChange = e => {\n      this.itemData.assigned_to = e.target.value;\n      console.log(this.itemData.assigned_to);\n    };\n\n    this.toggleCompletion = () => {\n      this.itemData.completed = !this.itemData.completed;\n      console.log(this.itemData.completed);\n    };\n\n    this.onSubmit = () => {\n      console.log(\"ON SUBMIT\");\n      let items = JSON.parse(JSON.stringify(this.props.todoList.items));\n      let pos = this.props.itemid;\n      items[pos] = this.itemData;\n      console.log(items);\n      let fireStore = getFirestore();\n      fireStore.collection(\"todoLists\").doc(this.props.todoList.id).update({\n        items: items\n      });\n      this.goBack();\n    };\n\n    this.goBack = () => {\n      this.props.history.goBack();\n    };\n  }\n\n  render() {\n    const auth = this.props.auth;\n    let todoList = this.props.todoList;\n    console.log(\"Rendering itemScreen\");\n    if (!auth.uid) return React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    });\n    if (!todoList) return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    });\n    let todoItem;\n    let screenTitle;\n\n    if (!this.props.todoItem) {\n      console.log(\"todoItem is false\");\n      todoItem = {\n        assigned_to: \"Unknown\",\n        completed: false,\n        description: \"Do Something\",\n        due_date: \"2019-12-25\",\n        key: parseInt(this.props.itemid)\n      };\n      screenTitle = \"Add New Item\";\n    } else {\n      console.log(\"todoItem is true\");\n      todoItem = this.props.todoList.items[this.props.itemid];\n      this.setItemData(todoItem);\n      screenTitle = \"Edit Item\";\n    }\n\n    let date = new Date(todoItem.due_date);\n    date.setDate(date.getUTCDate());\n    return React.createElement(\"div\", {\n      className: \"grey lighten-2 z-depth-2\",\n      style: {\n        paddingTop: '20px',\n        paddingBottom: '20px',\n        borderRadius: '0 0 10px 10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"padding_20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, screenTitle), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"active text_16\",\n      htmlFor: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"input\", {\n      className: \"text_20\",\n      type: \"text\",\n      name: \"description\",\n      id: \"description\",\n      defaultValue: todoItem.description,\n      onChange: this.descriptionChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"active text_16\",\n      htmlFor: \"assigned_to\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Assigned To\"), React.createElement(\"input\", {\n      className: \"text_20\",\n      type: \"text\",\n      name: \"assigned_to\",\n      id: \"assigned_to\",\n      defaultValue: todoItem.assigned_to,\n      onChange: this.assignedToChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"datepicker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"div\", {\n      name: \"datepicker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(DatePicker, {\n      options: {\n        autoClose: true,\n        defaultDate: date,\n        setDefaultDate: true\n      },\n      onChange: newDate => {\n        this.dateChange({\n          target: {\n            id: \"myDate\",\n            value: newDate\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.toggleCompletion,\n      type: \"checkbox\",\n      className: \"filled-in\",\n      defaultChecked: todoItem.completed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"grey-text text-darken-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Completed\"))), React.createElement(\"div\", {\n      style: {\n        paddingTop: '30px'\n      },\n      className: \"col s2 offset-s1 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: this.onSubmit,\n      className: \"waves-effect waves-light btn-large purple lighten-2 hoverable rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"send\"), \"Submit\")), React.createElement(\"div\", {\n      style: {\n        paddingTop: '30px'\n      },\n      className: \"col s2 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: this.goBack,\n      className: \"waves-effect waves-light btn-large red accent-2 hoverable rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"keyboard_return\"), \"Cancel\")))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const id = ownProps.match.params.id;\n  const todoLists = state.firestore.data.todoLists;\n  let itemid = ownProps.match.params.itemid;\n  const todoList = todoLists ? todoLists[id] : null;\n  if (todoList) todoList.id = id;\n  let todoItem = null;\n\n  if (todoList) {\n    todoItem = todoList.items[itemid];\n  }\n\n  return {\n    todoItem,\n    todoList,\n    itemid,\n    auth: state.firebase.auth\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([{\n  collection: 'todoLists'\n}]))(ItemScreen);","map":{"version":3,"sources":["C:/Users/kirat/Downloads/hw3_sample_solution1/src/components/item_screen/ItemScreen.js"],"names":["React","Component","Redirect","connect","compose","firestoreConnect","getFirestore","DatePicker","ItemScreen","itemData","assigned_to","completed","description","due_date","key","parseInt","props","itemid","setItemData","data","console","log","dateChange","date","time","target","value","newTime","Date","getTime","getTimezoneOffset","toISOString","split","toString","descriptionChange","e","assignedToChange","toggleCompletion","onSubmit","items","JSON","parse","stringify","todoList","pos","fireStore","collection","doc","id","update","goBack","history","render","auth","uid","todoItem","screenTitle","setDate","getUTCDate","paddingTop","paddingBottom","borderRadius","autoClose","defaultDate","setDefaultDate","newDate","mapStateToProps","state","ownProps","match","params","todoLists","firestore","firebase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { firestoreConnect } from 'react-redux-firebase';\r\nimport { getFirestore } from 'redux-firestore';\r\nimport { DatePicker } from 'react-materialize';\r\n\r\nclass ItemScreen extends Component {\r\n\r\n    itemData = {\r\n        assigned_to: \"Unknown\",\r\n        completed: false,\r\n        description: \"Do Something\",\r\n        due_date: \"2019-12-25\",\r\n        key: parseInt(this.props.itemid)\r\n    };\r\n\r\n    setItemData = (data) => {\r\n        this.itemData = data;\r\n        console.log(\"ItemData is: \", this.itemData);\r\n    }\r\n\r\n    dateChange = (date) => {\r\n        let time = date.target.value;\r\n        let newTime = (new Date(time.getTime() - (time.getTimezoneOffset() * 60000)).toISOString().split(\"T\")[0]).toString();\r\n        console.log(\"Changing date to: \", newTime);\r\n        this.itemData.due_date = newTime;\r\n    }\r\n\r\n    descriptionChange = (e) => {\r\n        this.itemData.description = e.target.value;\r\n        console.log(this.itemData.description);\r\n    }\r\n\r\n    assignedToChange = (e) => {\r\n        this.itemData.assigned_to = e.target.value;\r\n        console.log(this.itemData.assigned_to);\r\n    }\r\n\r\n    toggleCompletion = () => {\r\n        this.itemData.completed = !this.itemData.completed;\r\n        console.log(this.itemData.completed);\r\n    }\r\n\r\n    onSubmit = () => {\r\n        console.log(\"ON SUBMIT\");\r\n        let items = JSON.parse(JSON.stringify(this.props.todoList.items));\r\n        let pos = this.props.itemid\r\n        items[pos] = this.itemData;\r\n\r\n        console.log(items);\r\n        let fireStore = getFirestore();\r\n        fireStore.collection(\"todoLists\").doc(this.props.todoList.id).update({ items: items });\r\n        this.goBack();\r\n    }\r\n\r\n    goBack = () => {\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const auth = this.props.auth;\r\n        let todoList = this.props.todoList;\r\n        console.log(\"Rendering itemScreen\");\r\n\r\n        if (!auth.uid)\r\n            return <Redirect to=\"/\" />;\r\n\r\n        if (!todoList)\r\n            return <React.Fragment />\r\n\r\n        let todoItem;\r\n        let screenTitle;\r\n        if (!this.props.todoItem) {\r\n            console.log(\"todoItem is false\");\r\n            todoItem = {\r\n                assigned_to: \"Unknown\",\r\n                completed: false,\r\n                description: \"Do Something\",\r\n                due_date: \"2019-12-25\",\r\n                key: parseInt(this.props.itemid),\r\n            }\r\n            screenTitle = \"Add New Item\";\r\n        }\r\n        else {\r\n            console.log(\"todoItem is true\");\r\n            todoItem = this.props.todoList.items[this.props.itemid];\r\n            this.setItemData(todoItem);\r\n            screenTitle = \"Edit Item\"\r\n        }\r\n\r\n        let date = new Date(todoItem.due_date);\r\n        date.setDate(date.getUTCDate());\r\n\r\n        return (\r\n            <div className=\"grey lighten-2 z-depth-2\" style={{ paddingTop: '20px', paddingBottom: '20px', borderRadius: '0 0 10px 10px' }}>\r\n                <div className=\"padding_20\">\r\n                    <h4>{screenTitle}</h4>\r\n                    <div className=\"row\">\r\n                        <div className=\"input-field col s6\">\r\n                            <label className=\"active text_16\" htmlFor=\"description\">Description</label>\r\n                            <input className=\"text_20\" type=\"text\" name=\"description\" id=\"description\"\r\n                                defaultValue={todoItem.description} onChange={this.descriptionChange} />\r\n                        </div>\r\n                        <div className=\"input-field col s6\">\r\n                            <label className=\"active text_16\" htmlFor=\"assigned_to\">Assigned To</label>\r\n                            <input className=\"text_20\" type=\"text\" name=\"assigned_to\" id=\"assigned_to\"\r\n                                defaultValue={todoItem.assigned_to} onChange={this.assignedToChange} />\r\n                        </div>\r\n                        <div className=\"col s6\">\r\n                            <label htmlFor=\"datepicker\">Date</label>\r\n                            <div name=\"datepicker\">\r\n                                <DatePicker options={{ autoClose: true, defaultDate: date, setDefaultDate: true }}\r\n                                    onChange={(newDate) => {\r\n                                        this.dateChange({\r\n                                            target: {\r\n                                                id: \"myDate\",\r\n                                                value: newDate\r\n                                            }\r\n                                        })\r\n                                    }} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col s6\">\r\n                            <label>\r\n                                <input onChange={this.toggleCompletion} type=\"checkbox\" className=\"filled-in\" defaultChecked={todoItem.completed} />\r\n                                <span className=\"grey-text text-darken-3\">Completed</span>\r\n                            </label>\r\n                        </div>\r\n                        <div style={{ paddingTop: '30px' }} className=\"col s2 offset-s1 center-align\">\r\n                            <a onClick={this.onSubmit} className=\"waves-effect waves-light btn-large purple lighten-2 hoverable rounded\">\r\n                                <i className=\"material-icons right\">send</i>Submit\r\n                            </a>\r\n                        </div>\r\n                        <div style={{ paddingTop: '30px' }} className=\"col s2 center-align\">\r\n                            <a onClick={this.goBack} className=\"waves-effect waves-light btn-large red accent-2 hoverable rounded\">\r\n                                <i className=\"material-icons right\">keyboard_return</i>Cancel\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const { id } = ownProps.match.params;\r\n    const { todoLists } = state.firestore.data;\r\n    let { itemid } = ownProps.match.params;\r\n    const todoList = todoLists ? todoLists[id] : null;\r\n\r\n    if (todoList)\r\n        todoList.id = id;\r\n\r\n    let todoItem = null;\r\n    if (todoList) {\r\n        todoItem = todoList.items[itemid];\r\n    }\r\n\r\n    return {\r\n        todoItem,\r\n        todoList,\r\n        itemid,\r\n        auth: state.firebase.auth,\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n        { collection: 'todoLists' },\r\n    ]),\r\n)(ItemScreen);"]},"metadata":{},"sourceType":"module"}